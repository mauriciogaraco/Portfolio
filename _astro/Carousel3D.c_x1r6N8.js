import{r as l,R as ee}from"./index.CSLRt44l.js";var U={exports:{}},k={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var te=l,re=Symbol.for("react.element"),ne=Symbol.for("react.fragment"),se=Object.prototype.hasOwnProperty,oe=te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,le={key:!0,ref:!0,__self:!0,__source:!0};function V(n,o,i){var a,h={},u=null,f=null;i!==void 0&&(u=""+i),o.key!==void 0&&(u=""+o.key),o.ref!==void 0&&(f=o.ref);for(a in o)se.call(o,a)&&!le.hasOwnProperty(a)&&(h[a]=o[a]);if(n&&n.defaultProps)for(a in o=n.defaultProps,o)h[a]===void 0&&(h[a]=o[a]);return{$$typeof:re,type:n,key:u,ref:f,props:h,_owner:oe.current}}k.Fragment=ne;k.jsx=V;k.jsxs=V;U.exports=k;var r=U.exports;const ae=n=>r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",...n,children:r.jsx("path",{d:"M15 6l-6 6 6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ce=n=>r.jsx("svg",{viewBox:"0 0 24 24",fill:"none",...n,children:r.jsx("path",{d:"M9 6l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),ie=n=>new Promise(o=>{const i=new Image;i.crossOrigin="anonymous",i.onload=()=>{const a=document.createElement("canvas");a.width=a.height=16;const h=a.getContext("2d");h.drawImage(i,0,0,16,16);const{data:u}=h.getImageData(0,0,16,16);let f=0,m=0,x=0,d=u.length/4;for(let s=0;s<u.length;s+=4)f+=u[s],m+=u[s+1],x+=u[s+2];o(`rgb(${f/d|0}, ${m/d|0}, ${x/d|0})`)},i.onerror=()=>o("rgb(20,20,20)"),i.src=n}),de=({images:n,autoRotate:o=!0,rotateInterval:i=4e3,cardHeight:a,className:h,isLargeMobile:u=!1,fit:f="contain",backfillMode:m="dominant-color",frame:x="none",isAnApp:d=!1})=>{const[s,v]=l.useState(0),[_,q]=l.useState(!1),[C,E]=l.useState(!1),[N,y]=l.useState(!1),[$,J]=l.useState(null),[I,R]=l.useState(null),[w,K]=l.useState(0),[L,Y]=l.useState([]),z=l.useRef(null),O=l.useRef(null),T=50,M=d?u?1/2:9/16:16/9,W=a??(d?520:380),{slideW:G,slideH:Q,containerH:Z}=ee.useMemo(()=>{const t=Math.max(260,w*.9);let e=W,c=e*M;if(w>0&&c>t){const b=t/c;c*=b,e*=b}const g=d?70:80;return{slideW:Math.round(c),slideH:Math.round(e),containerH:Math.round(e+g)}},[w,W,M,d]);l.useEffect(()=>{const t=O.current;if(!t)return;const e=new IntersectionObserver(([c])=>q(c.isIntersecting),{threshold:.2});return e.observe(t),()=>e.disconnect()},[]),l.useEffect(()=>{if(!o||!_||C||n.length<=1)return;const t=window.setInterval(()=>v(e=>(e+1)%n.length),i);return()=>window.clearInterval(t)},[o,_,C,i,n.length]),l.useEffect(()=>{const t=z.current;if(!t)return;const e=new ResizeObserver(([c])=>{const g=c.contentRect.width;K(g)});return e.observe(t),()=>e.disconnect()},[]),l.useEffect(()=>{let t=!0;return Promise.all(n.map(e=>ie(e))).then(e=>{t&&Y(e)}),()=>{t=!1}},[n]);const j=()=>v(t=>(t-1+n.length)%n.length),p=()=>v(t=>(t+1)%n.length),P=t=>{J(t.targetTouches[0].clientX),R(null)},F=t=>R(t.targetTouches[0].clientX),H=()=>{if($===null||I===null)return;const t=$-I;t>T?p():t<-T&&j()},S=w<640,B=w>=640&&w<1024,D=d?S?18:B?30:42:S?14:B?24:34,X=S?.93:.95,A=t=>{let e=0,c=1,g=1,b=20;return t===s?(e=0,c=1,g=1,b=20):t===(s+1)%n.length?(e=D,c=X,g=.75,b=10):t===(s-1+n.length)%n.length?(e=-D,c=X,g=.75,b=10):(e=0,c=.9,g=0,b=0),{width:`${G}px`,height:`${Q}px`,transform:`translateX(${e}%) scale(${c})`,opacity:g,zIndex:b}};return l.useEffect(()=>{if(!N)return;const t=e=>{e.key==="Escape"&&y(!1),e.key==="ArrowRight"&&p(),e.key==="ArrowLeft"&&j()};return document.body.style.overflow="hidden",window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t),document.body.style.overflow=""}},[N]),n?.length?r.jsx("section",{className:`bg-transparent w-full flex items-center justify-center ${h??""}`,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:r.jsxs("div",{ref:z,className:"relative overflow-hidden w-full max-w-6xl",style:{height:Z},children:[r.jsx("div",{ref:O,className:"absolute inset-0 flex items-center justify-center",onTouchStart:P,onTouchMove:F,onTouchEnd:H,children:n.map((t,e)=>r.jsxs("div",{onClick:()=>{e===s&&y(!0)},className:`absolute top-0 mx-auto rounded-2xl overflow-hidden transition-all
                 duration-500 ease-out will-change-transform border
                 border-white/10 bg-transparent ${e===s?"cursor-zoom-in":"pointer-events-none"}`,style:A(e),"aria-hidden":e!==s,children:[m!=="none"&&(m==="blur-image"?r.jsx("div",{className:"absolute inset-0 -z-10","aria-hidden":!0,style:{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(28px) brightness(0.6) saturate(0.9)",transform:"scale(1.1)"}}):r.jsx("div",{className:"absolute inset-0 -z-10","aria-hidden":!0,style:{background:L[e]||"#111"}})),x==="browser"?r.jsxs("div",{className:"h-full w-full rounded-xl overflow-hidden bg-black/40 border border-white/10",children:[r.jsxs("div",{className:"h-8 flex items-center gap-2 px-3 border-b border-white/10 bg-black/30",children:[r.jsx("span",{className:"w-3 h-3 rounded-full bg-red-400/70"}),r.jsx("span",{className:"w-3 h-3 rounded-full bg-yellow-400/70"}),r.jsx("span",{className:"w-3 h-3 rounded-full bg-green-400/70"})]}),r.jsx("img",{src:t,alt:`Imagen ${e+1}`,className:"w-full",style:{height:"calc(100% - 2rem)",objectFit:f},loading:e===s?"eager":"lazy",decoding:"async"})]}):x==="phone"?r.jsxs("div",{className:"h-full w-full rounded-[2rem] border-2 border-white/15 relative overflow-hidden shadow-[0_0_0_8px_rgba(0,0,0,0.4)]",style:{background:`radial-gradient(ellipse at 50% 30%, ${L[e]||"#0b0b0b"} 0%, rgba(0,0,0,.65) 60%, rgba(0,0,0,.85) 100%)`},children:[r.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-28 h-6 bg-black/70 rounded-b-2xl z-10"}),r.jsx("img",{src:t,alt:`Imagen ${e+1}`,className:"h-full w-full",style:{objectFit:f},loading:e===s?"eager":"lazy",decoding:"async"})]}):r.jsx("img",{src:t,alt:`Imagen ${e+1}`,className:"h-full w-full",style:{objectFit:f,background:"#000"},loading:e===s?"eager":"lazy",decoding:"async"})]},`${t}-${e}`))}),n.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{type:"button",className:"absolute left-3 sm:left-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/85 text-gray-700 flex items-center justify-center shadow-md hover:bg-white z-30",onClick:j,"aria-label":"Anterior",children:r.jsx(ae,{className:"w-5 h-5"})}),r.jsx("button",{type:"button",className:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/85 text-gray-700 flex items-center justify-center shadow-md hover:bg-white z-30",onClick:p,"aria-label":"Siguiente",children:r.jsx(ce,{className:"w-5 h-5"})})]}),n.length>1&&r.jsx("div",{className:"absolute left-0 right-0 flex justify-center items-center space-x-3 z-30",style:{bottom:d?10:20},children:n.map((t,e)=>r.jsx("button",{type:"button",className:`h-2 rounded-full transition-all duration-300 ${e===s?"bg-gray-500 w-5":"bg-gray-300 w-2"}`,onClick:()=>v(e),"aria-label":`Ir a la imagen ${e+1}`},e))}),N&&r.jsxs("div",{className:"fixed inset-0 z-[100] bg-black/90 flex items-center justify-center",onTouchStart:P,onTouchMove:F,onTouchEnd:()=>{H()},onClick:t=>{t.target===t.currentTarget&&y(!1)},children:[r.jsx("button",{"aria-label":"Close",onClick:()=>y(!1),className:"absolute top-4 right-4 text-white/80 hover:text-white text-lg px-3 py-1 rounded bg-white/10",children:"âœ•"}),n.length>1&&r.jsxs(r.Fragment,{children:[r.jsx("button",{"aria-label":"Anterior",onClick:j,className:"absolute left-3 sm:left-6 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/85 text-gray-700 flex items-center justify-center shadow-md hover:bg-white",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:r.jsx("path",{d:"M15 6l-6 6 6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),r.jsx("button",{"aria-label":"Siguiente",onClick:p,className:"absolute right-3 sm:right-6 top-1/2 -translate-y-1/2 w-10 h-10 rounded-full bg-white/85 text-gray-700 flex items-center justify-center shadow-md hover:bg-white",children:r.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:r.jsx("path",{d:"M9 6l6 6-6 6",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]}),r.jsx("img",{src:n[s],alt:`Imagen ${s+1}`,className:"max-h-[90vh] max-w-[92vw] object-contain rounded-xl shadow-2xl",loading:"eager"})]})]})}):null};export{de as default};
